@{
    ViewData["Title"] = "Local AI Chat";
}

<div class="chat">
  <h2 class="base-title">Local AI Chat</h2>

  <div id="chat" class="chat__container">
    <div id="messages" class="chat__container--message">
      <p>ðŸ‘‹ Hello! Iâ€™m your local AI â€” powered by Ollama + Semantic Kernel.</p>
    </div>
  </div>

  <form
    class="chat__container--input"
    hx-post="/chat/send"
    hx-target="#chat"
    hx-swap="beforeend"
    _="
    on submit
        set userMsg to #message.value
        make a <div/> called msg
        add .chat__container--message to msg
        add .chat__container--message-user to msg
        put `<p>${userMsg}</p>` into msg
        put msg at the end of #chat
        set #message.value to ''
    "
  >
    <sl-input
      id="message"
      name="message"
      placeholder="Type your message..."
      required
    ></sl-input>
    <sl-button type="submit" variant="primary">
    Send
    <sl-icon slot="suffix"  name="caret-right-fill"></sl-icon>
    </sl-button>
  </form>
</div>
